{{ include('components/form/header.html.twig', {params: {target: '/plugins/tender/front/tender.form.php'}}) }}
{% import 'components/form/fields_macros.html.twig' as fields %}
{% set params  = params ?? [] %}
   <div class="card-body d-flex flex-wrap">
      <div class="col-12 col-xxl-{{ item_has_pictures ? '9' : '12' }} flex-column">
         <div class="d-flex flex-row flex-wrap flex-xl-nowrap">
            <div class="row flex-row align-items-start flex-grow-1">
               <div class="row flex-row">
                  {{ fields.textField(
                     'name',
                     item.fields['name'],
                     __('Name'),
                     {}
                  ) }}

                  {{ fields.dropdownField(
                     'User',
                     'users_id',
                     item.fields['users_id'],
                     __('User')
                  ) }}

                  {{ fields.textField(
                     'tender_subject',
                     item.fields['tender_subject'],
                     __('Tender Subject', "tender"),
                     {}
                  ) }}

                  {{ fields.dropdownField(
                     'GlpiPlugin\\Tender\\TenderType',
                     'plugin_tender_tendertypes_id',
                     item.fields['plugin_tender_tendertypes_id'],
                     __('Tender Type', 'tender'),
                     {
                        'to_add': tendertypes,
                     }
                  ) }}

                  {{ fields.dropdownField(
                     'GlpiPlugin\\Tender\\TenderStatus',
                     'plugin_tender_statuses_id',
                     item.fields['plugin_tender_statuses_id'],
                     __('Status', 'tender'),
                     {
                        'to_add': tenderstatus,
                     }
                  ) }}

                  {{ fields.dateField(
                     'start_date',
                     item.fields['start_date'],
                     __('Startdate', "tender"),
                     {}
                  ) }}

                  {{ fields.dateField(
                     'submission_date',
                     item.fields['submission_date'],
                     __('Submission Date', "tender"),
                     {}
                  ) }}

                  {{ fields.dateField(
                     'end_date',
                     item.fields['end_date'],
                     __('Enddate', "tender"),
                     {}
                  ) }}

                  {{ fields.dropdownField(
                     'Location',
                     'default_locations_id',
                     item.fields['default_locations_id'],
                     __('Default Location', "tender")
                  ) }}

                  {{ fields.dropdownField(
                     'Location',
                     'default_delivery_locations_id',
                     item.fields['default_delivery_locations_id'],
                     __('Default Delivery Location', "tender")
                  ) }}

                  {{ fields.textareaField(
                     'comment',
                     item.fields['comment'],
                     __('Comments'),
                     {}
                  ) }}

                  {{ fields.textField(
                     'estimated_net_total',
                     item.fields['estimated_net_total']|number_format(2, ',', '.'),
                     __('Estimated Net Total', "tender"),
                     {
                        'disabled': true
                     }
                  ) }}
                  
                  <input type="hidden" name="_glpi_csrf_token" value="{{ csrf_token() }}" />
               <div>
               {% if item.fields['id'] is not empty %}
                  <input type="hidden" name="id" value="{{ item.fields['id'] }}" />
                  <button class="btn btn-primary me-2" type="submit" name="update" value="1">
                     <i class="fas fa-save"></i>
                     <span>{{ _x('button', 'Save') }}</span>
                  </button>
                  <button class="btn btn-outline-warning me-2" type="submit" name="delete" value="1">
                     <i class="fas fa-trash"></i>
                     <span>{{ _x('button', 'Delete permanently') }}</span>
                  </button>
               {% else %}
                  <button class="btn btn-primary me-2" type="submit" name="add" value="1">
                     <i class="fas fa-plus"></i>
                     <span>{{ _x('button', 'Add') }}</span>
                  </button>
               {% endif %}
               </div>
            </div>
         </div>
      </div>
   </div>
</div>